<step-drag-drop-container>
  <step-table
    class="paddingless"
    [dataSource]="dataSource()"
    matSort
    matSortActive="name"
    matSortDirection="asc"
    [matSortDisableClear]="true"
  >
    <step-entity-column-container entityName="parameters" />
    <ng-container matColumnDef="scope" stepActivityCol="Scope">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        <step-drag-column-caption>Scope</step-drag-column-caption>
      </th>
      <td mat-cell *matCellDef="let element">
        <step-parameter-scope [parameter]="element" />
      </td>
    </ng-container>
    <ng-container matColumnDef="key" stepActivityCol="Key" stepSearchCol>
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        <step-drag-column-caption>Key</step-drag-column-caption>
      </th>
      <td mat-cell *matCellDef="let element">
        <step-parameters-key [context]="element" />
      </td>
    </ng-container>
    <ng-container matColumnDef="value" stepActivityCol="Value" stepSearchCol>
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        <step-drag-column-caption>Value</step-drag-column-caption>
      </th>
      <td mat-cell *matCellDef="let element">
        @if (element.value.dynamic) {
          <step-icon class="icon-small" name="zap-circle" matTooltip="dynamic expression" matTooltipPosition="above" />
          {{ element.value.expression }}
        } @else {
          {{ element.value.value }}
        }
      </td>
    </ng-container>
    <ng-container matColumnDef="actions" stepActionCol>
      <th mat-header-cell *matHeaderCellDef class="cell-actions">
        <step-column-settings />
      </th>
      <td mat-cell *matCellDef="let element"></td>
    </ng-container>
  </step-table>
</step-drag-drop-container>
