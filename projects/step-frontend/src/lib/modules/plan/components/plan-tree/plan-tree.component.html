<as-split direction="horizontal">
  <as-split-area [size]="30">
    <div>
      <step-btn-group>
        <button
          type="button"
          mat-icon-button
          (click)="_planHandle?.moveUp()"
          [disabled]="!('plan-write' | hasRight | async)"
          matTooltip="Move selected node upward (ctrl+up)"
          matTooltipPosition="below"
        >
          <step-icon name="chevron-up" aria-hidden="true"></step-icon>
        </button>
        <button
          type="button"
          mat-icon-button
          (click)="_planHandle?.moveDown()"
          [disabled]="!('plan-write' | hasRight | async)"
          matTooltip="Move selected node downward (ctrl+down)"
          matTooltipPosition="below"
        >
          <step-icon name="chevron-down" aria-hidden="true"></step-icon>
        </button>
      </step-btn-group>
      <step-btn-group>
        <button
          type="button"
          mat-flat-button
          (click)="_planHandle?.copy()"
          [disabled]="!('plan-write' | hasRight | async)"
          matTooltip="Copy selected node (ctrl+c)"
          matTooltipPosition="below"
        >
          Copy
        </button>
        <button
          type="button"
          mat-flat-button
          (click)="_planHandle?.paste()"
          [disabled]="!('plan-write' | hasRight | async)"
          matTooltip="Paste selected node (ctrl+v)"
          matTooltipPosition="below"
        >
          Paste
        </button>
      </step-btn-group>
      <step-btn-group>
        <button
          type="button"
          mat-flat-button
          (click)="_planHandle?.delete()"
          [disabled]="!('plan-delete' | hasRight | async)"
          matTooltip="Delete selected node (del)"
          matTooltipPosition="below"
        >
          Delete
        </button>
      </step-btn-group>
      <step-btn-group *ngIf="_planHandle?.isInteractiveSessionActive$ | async">
        <button
          type="button"
          mat-flat-button
          color="primary"
          (click)="_planHandle?.execute()"
          [disabled]="!('interactive' | hasRight | async)"
          matTooltip="Executes the selected node in the interactive session (ctrl+enter)"
          matTooltipPosition="below"
        >
          Run interactively
        </button>
      </step-btn-group>
    </div>
    <step-tree (treeContextAction)="proceedAction($event.actionId, $event.node)"> </step-tree>
  </as-split-area>
  <as-split-area [size]="70">
    <ng-container *ngIf="_planHandle?.selectedArtefact$ | async as selectedArtefact">
      <step-artefact-details [artefact]="selectedArtefact" (onSave)="_planHandle?.handlePlanChange()">
      </step-artefact-details>
    </ng-container>
  </as-split-area>
</as-split>
