<step-table [dataSource]="tableDataSource" [inProgress]="tableIsLoading" matSort class="ts-table">
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>
      <input
        type="checkbox"
        class="checkbox"
        (click)="$event.stopPropagation()"
        [(ngModel)]="allSeriesChecked"
        (change)="onAllSeriesCheckboxClick($event)"
      />
      <span>Name</span>
    </th>
    <td mat-cell *matCellDef="let element">
      <div class="color-cell">
        <input
          style="margin: unset; margin-right: 6px"
          type="checkbox"
          [(ngModel)]="element.attributes.isSelected"
          class="checkbox"
          (change)="onKeywordToggle(element.attributes[dimensionKey], $event)"
        />
        <span class="color-square" [style.background-color]="element.attributes.color"></span>
        <span>{{ element.attributes._id }}</span>
      </div>
    </td>
  </ng-container>
  <ng-container matColumnDef="count">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Count</th>
    <td mat-cell *matCellDef="let element">
      {{ element.count }}
    </td>
  </ng-container>
  <ng-container matColumnDef="sum">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Sum (ms)</th>
    <td mat-cell *matCellDef="let element">
      {{ element.sum }}
    </td>
  </ng-container>
  <ng-container matColumnDef="avg">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Avg (ms)</th>
    <td mat-cell *matCellDef="let element">
      {{ element.attributes.avg }}
    </td>
  </ng-container>
  <ng-container matColumnDef="min">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Min (ms)</th>
    <td mat-cell *matCellDef="let element">
      {{ element.min }}
    </td>
  </ng-container>
  <ng-container matColumnDef="max">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Max (ms)</th>
    <td mat-cell *matCellDef="let element">
      {{ element.max }}
    </td>
  </ng-container>
  <ng-container matColumnDef="pcl_80">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Pcl. 80 (ms)</th>
    <td mat-cell *matCellDef="let element">
      {{ element.pclValues?.[80] }}
    </td>
  </ng-container>
  <ng-container matColumnDef="pcl_90">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Pcl. 90 (ms)</th>
    <td mat-cell *matCellDef="let element">
      {{ element.pclValues?.[90] }}
    </td>
  </ng-container>
  <ng-container matColumnDef="pcl_99">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Pcl. 99 (ms)</th>
    <td mat-cell *matCellDef="let element">
      {{ element.pclValues?.[99] }}
    </td>
  </ng-container>
  <ng-container matColumnDef="tps">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Tps</th>
    <td mat-cell *matCellDef="let element">
      <ng-container *ngIf="response">
        {{ element.attributes.tps }}
      </ng-container>
    </td>
  </ng-container>
  <ng-container matColumnDef="tph">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Tph</th>
    <td mat-cell *matCellDef="let element">
      <ng-container *ngIf="response">
        {{ element.attributes.tph }}
      </ng-container>
    </td>
  </ng-container>
  <!--            <mat-row *matRowDef="let row; columns: tableColumns"-->
  <!--                     [class.display-none]="!keywords[row.attributes.name].isSelected"></mat-row>-->
</step-table>
