<ng-container *ngIf="performanceViewSettings">
  <step-ts-filter-bar
    *ngIf="context"
    [context]="context"
    class="mat-card"
    [performanceViewSettings]="performanceViewSettings"
    [defaultFilterOptions]="settings.filterOptions"
    [initialFilters]="contextualFilterItems"
    (onFiltersChange)="handleFiltersChange($event)"
    (onFilterSettingsChange)="handleFilteringChange($event)"
    (onGroupingChange)="handleGroupingChange($event)"
  >
  </step-ts-filter-bar>

  <step-performance-view
    [context]="context"
    [settings]="performanceViewSettings"
    [timeSelection]="filterBar?.timeSelection"
  ></step-performance-view>
</ng-container>
