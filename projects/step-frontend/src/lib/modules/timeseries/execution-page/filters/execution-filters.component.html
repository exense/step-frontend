<!--<div class="attributes-container">-->
<!--  <span>Key</span>-->
<!--  <span>Value</span>-->
<!--</div>-->
<!--<div *ngFor="let pair of attributesPair" class="attributes-container">-->
<!--  <input [(ngModel)]="pair.key" />-->
<!--  <input [(ngModel)]="pair.value" />-->
<!--</div>-->

<!--<button mat-button id="apply-button" (click)="applyParams()">Apply</button>-->

<div class="filter-bar">
  <div class="filter-item" *ngFor="let item of filterItems">
    <mat-form-field appearance="fill" class="filter-item">
      <mat-label>{{ item.label }}</mat-label>
      <mat-select [(ngModel)]="item.selectedValue" (ngModelChange)="applyParams()">
        <mat-option [value]="undefined">All</mat-option>
        <mat-option *ngFor="let option of item.options" [value]="option">
          {{ option }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="filter-item">
    <mat-form-field appearance="fill" class="filter-item">
      <mat-label>Grouping</mat-label>
      <mat-select [(ngModel)]="groupingAttributes" (ngModelChange)="emitGroupDimensions()">
        <mat-option *ngFor="let option of groupingOptions" [value]="option.attributes">
          {{ option.label }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div>
    <button mat-raised-button [matMenuTriggerFor]="menu">
      Measurements {{ activeKeywords ? '(' + activeKeywords + ')' : '' }}
    </button>
    <mat-menu #menu="matMenu" class="time-selector-menu">
      <div (click)="$event.stopPropagation()">
        <div>
          <input [(ngModel)]="keywordSearchValue" placeholder="Search" style="width: 110px; margin-bottom: 12px" />
        </div>
        <div>
          <input
            type="checkbox"
            class="checkbox"
            [(ngModel)]="allSeriesChecked"
            (change)="onAllSeriesCheckboxClick($event)"
            style="display: inline"
          />
          <span>All keywords</span>
        </div>
        <ng-container *ngFor="let item of keywords | keyvalue: valueAscOrder">
          <ng-container *ngIf="!keywordSearchValue || item.key.toLowerCase().indexOf(keywordSearchValue) >= 0">
            <div class="color-cell" *ngIf="item.value.isVisible">
              <input
                type="checkbox"
                [ngModel]="item.value.isSelected"
                class="checkbox"
                (change)="onKeywordToggle(item.key, $event)"
              />
              <span class="color-square" [style.background-color]="item.value.color"></span>
              <span>{{ item.key }}</span>
            </div>
          </ng-container>
        </ng-container>
      </div>
    </mat-menu>
    <!--  <mat-form-field appearance="fill">-->
    <!--    <mat-label>Series</mat-label>-->
    <!--    <mat-select placeholder="Series" multiple >-->
    <!--      <mat-select-trigger>-->
    <!--        {{toppings.value ? toppings.value[0] : ''}}-->
    <!--        <span *ngIf="toppings.value?.length > 1" class="example-additional-selection">-->
    <!--        (+{{toppings.value.length - 1}} {{toppings.value?.length === 2 ? 'other' : 'others'}})-->
    <!--      </span>-->
    <!--      </mat-select-trigger>-->
    <!--      <mat-option *ngFor="let item of keywords | keyvalue: valueAscOrder" [value]="item.key"><div style="background: red;">{{item.key}}</div></mat-option>-->
    <!--    </mat-select>-->
    <!--  </mat-form-field>-->
  </div>
</div>
