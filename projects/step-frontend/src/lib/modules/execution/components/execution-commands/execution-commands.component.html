@if (displayParametersForm()) {
  @if (executionParameters(); as params) {
    <step-custom-forms [stModel]="params" stScreen="executionParameters" />
  }
  <step-execution-actions
    [execution]="execution()"
    [isExecutionIsolated]="isExecutionIsolated()"
    [tooltips]="tooltips()"
    (execute)="execute($event)"
    (schedule)="schedule()"
    (stop)="stop()"
    (forceStop)="forceStop()"
    (copyLink)="copyExecutionServiceAsCurlToClipboard()"
  />
} @else {
  <step-execution-actions
    [execution]="execution()"
    [isExecutionIsolated]="isExecutionIsolated()"
    [allowExecuteWithContent]="!!executionParameters()"
    [tooltips]="tooltips()"
    (execute)="execute($event)"
    (schedule)="schedule()"
    (stop)="stop()"
    (forceStop)="forceStop()"
    (copyLink)="copyExecutionServiceAsCurlToClipboard()"
  >
    <step-execution-actions-execute-content>
      @if (executionParameters(); as params) {
        <section class="execution-params-popover">
          <step-custom-forms [stModel]="params" stScreen="executionParameters" />
          <button type="button" mat-flat-button color="primary" (click)="execute(false)">Execute</button>
        </section>
      }
    </step-execution-actions-execute-content>
  </step-execution-actions>
}
