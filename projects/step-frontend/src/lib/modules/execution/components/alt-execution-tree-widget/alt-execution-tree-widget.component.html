<step-alt-report-widget title="Execution tree" [applyOverflow]="true">
  <step-alt-report-widget-filter>
    <step-btn-group class="with-round-borders shrink collapse-buttons">
      <button
        type="button"
        mat-stroked-button
        (click)="collapseAll()"
        matTooltip="Collapse All"
        matTooltipPosition="below"
      >
        <step-icon name="collapse-all" />
      </button>
      <button type="button" mat-stroked-button (click)="expandAll()" matTooltip="Expand All" matTooltipPosition="below">
        <step-icon name="expand-all" />
      </button>
    </step-btn-group>
    <step-search-field
      [formControl]="_treeSearch.searchCtrl"
      [(searchIndex)]="_treeSearch.pageIndex"
      [total]="_treeSearch.foundItems()"
      [hint]="_treeSearchDescription"
    />
    <step-search-paginator
      [isActive]="_treeSearch.isErrorSearchActive()"
      (isActiveChange)="_treeSearch.toggleIsErrorSearchActive()"
      [(searchIndex)]="_treeSearch.pageIndex"
      [total]="_treeSearch.foundItems()"
      [isDisabled]="!_treeSearch.hasErrors()"
      [inactiveTooltip]="_treeSearch.errorsButtonHint()"
      activeTooltip="Close error search"
      [hintTooltip]="_treeSearch.errorsSearchHint()"
      prevTooltip="show previous error"
      nextTooltip="show next error"
    />
  </step-alt-report-widget-filter>
  <step-alt-report-widget-content>
    <step-alt-execution-tree
      #tree
      stepTreeAutoChooseVirtualScroll="340px"
      [applyVirtualScrollFrom]="150"
      [showSpinnerWhileTreeInitialize]="true"
    />
  </step-alt-report-widget-content>
</step-alt-report-widget>
