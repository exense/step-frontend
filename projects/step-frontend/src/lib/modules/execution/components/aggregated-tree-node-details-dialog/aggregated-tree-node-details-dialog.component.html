<step-modal-window>
  <div class="tree-node-modal-header" step-modal-window-title>
    @if (isDetailsVisible()) {
      <button
        type="button"
        mat-icon-button
        matTooltip="Navigatge back"
        matTooltipPosition="below"
        (click)="hideReportNodeDetails()"
      >
        <step-icon name="arrow-left" />
      </button>
    }
    <span>Aggregated details</span>
  </div>
  <div step-modal-window-body>
    @if (aggregatedNode(); as node) {
      @if (reportNode(); as reportNode) {
        <step-alt-keyword-inline-drilldown [node]="reportNode" [showArtefact]="true" />
      } @else {
        <step-aggregated-tree-node-details
          [node]="node"
          [initialStatus]="predefinedStatus()"
          (showDetails)="openReportNodeDetails($event)"
        />
      }
    }
  </div>
</step-modal-window>
