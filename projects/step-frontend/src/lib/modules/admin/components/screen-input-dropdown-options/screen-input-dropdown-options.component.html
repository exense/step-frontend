<mat-expansion-panel #panel>
  <mat-expansion-panel-header>
    <mat-panel-title>
      Options
      <button type="button" mat-icon-button (click)="addOption($event)">
        <step-icon name="plus"></step-icon>
      </button>
    </mat-panel-title>
  </mat-expansion-panel-header>
  <section class="options">
    <ng-container *ngFor="let option of model.options">
      <step-form-field>
        <input type="text" [(ngModel)]="option.value" placeholder="Value" />
      </step-form-field>
      <step-form-field>
        <input
          type="text"
          [stepModelFormatter]="activationExpressionFormatter"
          [(ngModel)]="option.activationExpression"
          placeholder="Activation expression"
        />
      </step-form-field>
      <step-btn-group>
        <button type="button" mat-stroked-button (click)="moveOption(option.value!, -1)">
          <step-icon name="chevron-up"></step-icon>
        </button>
        <button type="button" mat-stroked-button (click)="moveOption(option.value!, 1)">
          <step-icon name="chevron-down"></step-icon>
        </button>
        <button type="button" mat-stroked-button (click)="removeOption(option.value!)">
          <step-icon name="trash-2"></step-icon>
        </button>
      </step-btn-group>
    </ng-container>
  </section>
</mat-expansion-panel>
