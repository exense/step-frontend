<mat-card appearance="outlined">
  <mat-card-header>
    <mat-card-title> Script Editor - Keyword: {{ keyword?.attributes?.['name'] }}</mat-card-title>
    <section class="editor-buttons">
      <step-rich-editor-settings-bar
        [predefinedMode]="syntaxMode"
        [showAutoFormatBtn]="!!('kw-write' | hasRight | async)"
        [showChangeStatus]="true"
        [changStatus]="changeStatus()"
        [showSaveBtn]="!!('kw-write' | hasRight | async)"
        saveBtnTooltip="Save this keyword"
        (save)="save()"
      />
      <step-btn-group class="with-borders">
        <button
          type="button"
          mat-stroked-button
          class="btn-execute"
          (click)="execute()"
          matTooltip="Execute this plan"
          matTooltipPosition="below"
        >
          <step-icon name="play" />
        </button>
      </step-btn-group>
    </section>
  </mat-card-header>
  <mat-card-content>
    @if (syntaxMode) {
      <step-rich-editor
        [ngModel]="keywordScript"
        (ngModelChange)="handleScriptChange($event)"
        [disabled]="!('kw-write' | hasRight | async)"
        [syntaxMode]="syntaxMode"
      />
    }
  </mat-card-content>
</mat-card>
