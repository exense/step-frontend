<div ng-controller="CallPlanCtrl">
  <div class="form-group" ng-if="artefact.planId">
    <label for="comment">Plan</label>
    <div class="input-group">
      <input ng-disabled="true" type="text" class="form-control" ng-model="planName" />
      <span class="input-group-btn">
        <button ng-if="artefact.planId" class="btn btn-default" type="button" ng-click="gotoPlan()">
          <step-ajs-icon name="edit-2" aria-hidden="true"></step-ajs-icon>
        </button>
        <button class="btn btn-default" type="button" ng-disabled="readonly" ng-click="selectPlan()">Select</button>
      </span>
    </div>
  </div>
  <fieldset ng-if="!artefact.planId">
    <step-plan-name
      [artefact]="artefact"
      [is-disabled]="readonly"
      (on-save)="save()">
    </step-plan-name>
  </fieldset>
  <fieldset ng-disabled="readonly">
    <dynamic-json-editor label="'Input'" dynamic-value="artefact.input" on-save="save()" />
  </fieldset>
</div>
