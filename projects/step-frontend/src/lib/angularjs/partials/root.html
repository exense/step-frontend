<div class="main-page">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>

  <section ng-if="isInitialized && (authService.isAuthenticated() || isPublicView() || authService.isExtLoginAuth())">
    <step-tenant-selection-downgraded></step-tenant-selection-downgraded>
    <step-sidebar></step-sidebar>
    <div id="main">
      <header class="header-parent blue-header">
        <ul class="header-navbar">
          <li ng-repeat="entry in viewRegistry.getDashlets('/menu/navbar/right')">
            <div ng-include="entry.template"></div>
          </li>
          <li>
            <a id="sessionDropdown" data-toggle="dropdown"><i class="glyphicon glyphicon-user"></i> {{context.userID}}
              [{{context.role}}]</a>
            <ul class="dropdown-menu" aria-labelledby="sessionDropdown">
              <li><a ng-click="setView('myaccount')"><span class="glyphicon glyphicon-cog"></span> My account</a></li>
              <li ng-if="authService.getConf().authentication && authService.isAuthenticated()"><a
                ng-click="authService.logout()"><span class="glyphicon glyphicon-off"></span> Logout</a></li>
              <li ng-if="authService.getConf().authentication && !authService.isAuthenticated()"><a
                ng-click="authService.goToLoginPage()">Sign in</a></li>
            </ul>
          </li>
        </ul>
        <div class="header-white-part">
        </div>
      </header>
      <div ng-include="'partials/main.html'" class="st-flex-row"></div>
    </div>
  </section>

  <div
    ng-if="isInitialized && !(authService.isAuthenticated() || isPublicView() || authService.isExtLoginAuth())"
    ng-include="'partials/loginForm.html'"
    class="st-flex-row"
  ></div>


  <footer class="main-footer">
    <div class="container main-footer">
      <p style="display:none;">STEP ${project.version} - Copyright &#169; exense GmbH</p>
      <span style="display:none;" id="frontend-os">${project.versionFEOS}</span>
      <span style="display:none;" id="frontend-ee">${project.versionFEEE}</span>
      <span style="display:none;" id="backend-os">${project.versionBEOS}</span>
      <span style="display:none;" id="backend-ee">${project.versionBEEE}</span>
    </div>
  </footer>
</div>
