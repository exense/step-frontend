<ng-template #htmlContentTemplate let-context>
  <div [innerHTML]="htmlContent" (mouseenter)="onPopoverMouseEnter()" (mouseleave)="onPopoverMouseLeave()"></div>
</ng-template>

<mat-menu #popover xPosition="after" yPosition="above" class="html-popover" [hasBackdrop]="false">
  <ng-template matMenuContent *ngIf="htmlContentTemplate">
    <span
      mat-menu-item
      [disableRipple]="true"
      (keydown.tab)="$event.stopPropagation()"
      (click)="$event.stopPropagation()"
      class="mat-popover"
    >
      <ng-container *ngTemplateOutlet="htmlContentTemplate!"></ng-container>
    </span>
  </ng-template>
</mat-menu>

<div [triggerHtmlPopover]="popover" #trigger="triggerHtmlPopover">
  <ng-content></ng-content>
</div>
