<step-modal-window title="Restore version" [stepZIndex]="1051">
  <div step-modal-window-body>
    <step-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="updateTime" stepSearchCol #searchVersionTime="SearchCol">
        <step-date-filter
          *stepSearchCellDef
          (filterChange)="searchByDate(searchVersionTime, $event)"
        ></step-date-filter>
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Version timestamp</th>
        <td
          class="cell-name {{ element.id === dialogData.version ? 'active' : '' }}"
          mat-cell
          *matCellDef="let element"
        >
          {{ element.updateTime | date: 'medium' }}
        </td>
      </ng-container>
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
          <button
            [disabled]="!(dialogData.permission | hasRight | async)"
            [class]="element.id === dialogData.version ? 'active' : ''"
            [matTooltip]="element.id === dialogData.version ? 'Current version' : 'Restore version'"
            type="button"
            mat-icon-button
            (click)="restore(element)"
          >
            <step-icon name="check-circle" aria-hidden="true"></step-icon>
          </button>
        </td>
      </ng-container>
    </step-table>
  </div>
  <div step-modal-window-buttons>
    <button type="button" mat-stroked-button (click)="cancel()">Cancel</button>
  </div>
</step-modal-window>
