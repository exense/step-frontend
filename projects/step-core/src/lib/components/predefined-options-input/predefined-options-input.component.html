<step-form-field
  [class.ng-invalid]="!!_ngControl?.invalid"
  [class.ng-touched]="!!_ngControl?.touched"
  [showRequiredMarker]="showRequiredMarker"
>
  <step-label *ngIf="label">{{ label }}</step-label>

  <input
    [ngModel]="value"
    (ngModelChange)="onValueChange($event)"
    [disabled]="isDisabled"
    [readonly]="true"
    [placeholder]="placeholder"
    (blur)="onBlur()"
  />

  <step-suffix class="button-suffix">
    <button mat-stroked-button type="button" [disabled]="isDisabled" [matMenuTriggerFor]="menu">
      <span>{{ predefinedOptionsLabel }}</span>
      <step-icon name="chevron-down"></step-icon>
    </button>
  </step-suffix>
</step-form-field>

<mat-menu #menu="matMenu">
  <button
    type="button"
    mat-menu-item
    *ngFor="let predefinedOption of predefinedOptions; trackBy: predefinedOptionsTrackBy"
    (click)="onValueChange(predefinedOption.key)"
  >
    {{ predefinedOption.value }}
  </button>
</mat-menu>
