<step-split>
  <step-split-area>
    <step-tree
      [dragDisabled]="isReadonly"
      (nodeDblClick)="handleDoubleClick($event.node, $event.event)"
      (treeContextAction)="proceedAction($event.actionId, $event.node)"
    >
      <div class="node-name" *stepTreeNodeTemplate="let node">
        <span>{{ node?.name }}</span>
        <button
          *ngIf="_planInteractiveSession?.isInteractiveSessionActive$ | async"
          type="button"
          mat-flat-button
          (click)="_planInteractiveSession?.execute(node.id)"
        >
          <step-icon name="play"></step-icon>
        </button>
        <button
          *ngIf="!isReadonly"
          class="actions-button"
          type="button"
          mat-flat-button
          matTooltip="Show actions menu (alt. right click)"
          (click)="openTreeMenu($event, node.id)"
        >
          <step-icon name="more-horizontal"></step-icon>
        </button>
      </div>
    </step-tree>
  </step-split-area>

  <step-split-gutter></step-split-gutter>

  <step-split-area sizeType="flex" size="1" padding="24px">
    <ng-container *ngIf="selectedArtefact$ | async as selectedArtefact">
      <step-artefact-details [artefact]="selectedArtefact" [readonly]="isReadonly" (onSave)="handlePlanChange()">
      </step-artefact-details>
    </ng-container>
  </step-split-area>
</step-split>
