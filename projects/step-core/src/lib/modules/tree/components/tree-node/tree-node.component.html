<div
  class="tree-node"
  [class.tree-node-selected]="isSelected()"
  [class.tree-node-selected-for-insert]="isSelectedForInsert()"
  [class.tree-node-hidden]="isHidden()"
  [class.skipped]="node().isVisuallySkipped"
  [class.root-node]="isRootNode()"
>
  @if (canToggle) {
    <button mat-icon-button (click)="toggle()">
      <step-icon class="toggle-state" [name]="toggleStateIcon()" />
    </button>
  } @else {
    <div class="no-toggle"></div>
  }
  <div
    class="node-content"
    (contextmenu)="openContextMenu($event)"
    [stepDragItem]="node().id"
    [dragDisabled]="dragDisabled"
  >
    <div class="node-icon">
      <step-icon [name]="node().icon" [class]="node().iconClassName" />
    </div>
    <step-tree-node-name [node]="node()" />
  </div>
</div>
