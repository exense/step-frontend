@if (dynamic) {
  <step-expression-input
    [label]="label"
    [tooltip]="tooltip"
    [isParentInvalid]="!!_ngControl.invalid"
    [showRequiredMarker]="showRequiredMarker"
    [ngModel]="expression"
    (ngModelChange)="onExpressionChange($event)"
    [disabled]="isDisabled"
    (toggleConstantValue)="toggleDynamicExpression(false)"
    (blur)="onBlur()"
  />
} @else {
  <step-resource-input
    [label]="label"
    [stType]="type()"
    [supportsDirectory]="supportsDirectory()"
    [withHelpIcon]="!!tooltip"
    [helpIconTooltip]="tooltip"
    [withDynamicSwitch]="true"
    [stModel]="value"
    [isInvalid]="!!_ngControl.invalid"
    [isTouched]="!!_ngControl.touched"
    [isDisabled]="isDisabled"
    (stModelChange)="onValueChange($event)"
    (dynamicSwitch)="toggleDynamicExpression(true)"
    (blur)="onBlur()"
  />
}
