<ng-container [formGroup]="form">
  <h4 *ngIf="primaryFields.length > 0">{{ primaryFieldsLabel }}</h4>
  <ng-container *ngFor="let field of primaryFields; trackBy: trackByField">
    <step-dynamic-field
      [formControl]="field.control"
      [label]="field.label"
      [canEditLabel]="field.isAdditional"
      [fieldType]="field.fieldType"
      [canRemove]="false"
      [enumItems]="field.enumItems"
      [tooltip]="field.tooltip"
    >
    </step-dynamic-field>
  </ng-container>
  <h4 *ngIf="optionalFields.length > 0">{{ optionalFieldsLabel }}</h4>
  <ng-container *ngFor="let field of optionalFields; trackBy: trackByField">
    <step-dynamic-field
      [formControl]="field.control"
      [label]="field.label"
      (labelChange)="updateLabel(field, $event)"
      [canEditLabel]="field.isAdditional"
      [fieldType]="field.fieldType"
      [canRemove]="true"
      [enumItems]="field.enumItems"
      [tooltip]="field.tooltip"
      (remove)="removeField(field)"
    >
    </step-dynamic-field>
  </ng-container>
</ng-container>
<step-add-field-button *ngIf="!isDisabled" [possibleFields]="possibleFieldsToAdd" (addField)="addOptionalField($event)">
</step-add-field-button>
