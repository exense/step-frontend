<div ng-style="{height: state.options.innercontainer.height + 5 +'px'}">
    <div class="dashboardtab" ng-show="displaymode === 'managed'">
        <ul ng-show="state.viewtoggle" class="nav nav-tabs">
            <li ng-class="{active : isTabActive(0)}" index="0">
                <a ng-click="selectTab(0)"><span class="glyphicon glyphicon-search glyphicon-viz"></span><span style="margin-left: 5px;">Query</span></a>
            </li>
            <li ng-class="{active : isTabActive(1)}" index="1">
                <a ng-click="selectTab(1)"><span class="glyphicon glyphicon-random glyphicon-viz"></span><span style="margin-left: 5px;">Transform</span></a>
            </li>
            <li ng-class="{active : isTabActive(2)}" index="2">
                <a ng-click="selectTab(2)"><span class="glyphicon glyphicon-adjust glyphicon-viz"></span><span style="margin-left: 5px;">Settings</span></a>
            </li>
            <li ng-class="{active : isTabActive(3)}" index="3">
                <a ng-click="selectTab(3)"><span class="glyphicon glyphicon-info-sign glyphicon-viz"></span><span style="margin-left: 5px;">Status</span></a>
            </li>
            <li ng-if="state.viewtoggle" style="float: right !important; border: none !important;">
                <div class="btn-container">
                    <button class="btn btn-success viz-btn-success" ng-click="toggleBarchevronToViz()" style="padding: 0px 5px;"
                        uib-tooltip="Go to view">
                        <span class=" glyphicon glyphicon-stats"></span>
                    </button>
                </div>
            </li>
            <li ng-show="state.info.alert.counter > 0" style="float: right !important; border: none !important;">
                <div class="btn-container">
                    <button class="btn btn-danger viz-btn-success" style="padding: 0px 8px;" uib-tooltip="Go to alerts" ng-click="messageBoxClick()">
                        {{state.info.alert.counter}}
                    </button>
                </div>
            </li>
        </ul>
        <ul class="nav nav-tabs" style="position: absolute; top: 30px; right: 15px; float: right !important; border: none; z-index: 2;">
            <li ng-show="state.info.alert.counter > 0" ng-if="!state.viewtoggle" style="border: none !important;">
                <div class="btn-container">
                    <button class="btn btn-danger viz-btn-success" style="padding: 0px 8px;" uib-tooltip="Go to alerts" ng-click="messageBoxClick()">
                        {{state.info.alert.counter}}
                    </button>
                </div>
            </li>
            <li ng-if="!state.viewtoggle" style="border: none !important;">
                <div class="btn-container">
                    <button class="btn btn-success viz-btn-success" ng-click="toggleBarchevronToConf()" style="padding: 0px 5px;"
                        uib-tooltip="Go to settings">
                        <span class="glyphicon glyphicon-cog"></span>
                    </button>
                </div>
            </li>
        </ul>

        <div ng-show="state.viewtoggle && isTabActive(0)" class="innercontainer" ng-style="{ height: state.options.innercontainer.height+'px'}">
            <viz-query state="state" presets="presets" inputsettingscol="inputsettingscol"></viz-query>
        </div>

        <div ng-show="state.viewtoggle && isTabActive(1)" class="innercontainer" ng-style="{ height: state.options.innercontainer.height+'px'}">
            <viz-transform state="state" presets="presets" inputsettingscol="inputsettingscol"></viz-transform>
        </div>

        <div ng-show="state.viewtoggle && isTabActive(2)" class="innercontainer" ng-style="{ height: state.options.innercontainer.height+'px'}">
            <viz-config state="state" widgetid="widgetid" presets="presets" inputsettingscol="inputsettingscol" showcoms="true"></viz-config>
        </div>

        <div ng-show="state.viewtoggle && isTabActive(3)" class="innercontainer" ng-style="{ height: state.options.innercontainer.height+'px'}">
            <viz-info state="state" presets="presets" inputsettingscol="inputsettingscol"></viz-info>
        </div>
    </div>
    <div ng-show="!state.viewtoggle || displaymode !== 'managed'" class="viewcontainer" ng-style="{ height: state.options.innercontainer.height+'px'}">
        <viz-view state="state" presets="presets" inputsettingscol="inputsettingscol"></viz-view>
    </div>
</div>